const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/MessagingPanel-C6bdXmn6.js","assets/index-BDAJNNoZ.js","assets/index-B9dzDwW7.css"])))=>i.map(i=>d[i]);
import{j as e,r as h,U as g,_ as f,a as b,T as j}from"./index-BDAJNNoZ.js";const v=({className:s="w-5 h-5",color:t})=>e.jsx("svg",{className:s,viewBox:"0 0 24 24",fill:t||"currentColor",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{d:"M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z"})}),y=({className:s="w-5 h-5",color:t})=>e.jsx("svg",{className:s,viewBox:"0 0 24 24",fill:t||"currentColor",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{d:"M22 12c0-5.523-4.477-10-10-10S2 6.477 2 12c0 4.99 3.657 9.128 8.438 9.878v-6.987h-2.54V12h2.54V9.797c0-2.506 1.492-3.89 3.777-3.89 1.094 0 2.238.195 2.238.195v2.46h-1.26c-1.243 0-1.63.771-1.63 1.562V12h2.773l-.443 2.89h-2.33v6.988C18.343 21.128 22 16.99 22 12z"})}),N=({className:s="w-5 h-5",color:t})=>e.jsx("svg",{className:s,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:t||"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})}),k=({className:s="w-5 h-5",color:t="#25D366"})=>e.jsxs("svg",{className:s,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[e.jsx("circle",{cx:"12",cy:"12",r:"10",fill:t}),e.jsx("path",{d:"M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347z",fill:"white"})]}),C=({className:s="w-5 h-5",color:t})=>e.jsx("svg",{className:s,viewBox:"0 0 24 24",fill:t||"currentColor",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm4.69 6.5l-1.97 9.2c-.15.7-.58.88-1.18.55l-3.05-2.25-1.47 1.42c-.16.16-.3.3-.55.3l.2-3.13 5.4-4.87c.24-.22-.05-.34-.38-.13l-6.65 4.18-3.1-.97c-.68-.22-.7- .7.14-1.03l11.17-4.3c.58-.22.95.14.78.85z"})}),_=({className:s="w-5 h-5",color:t})=>e.jsxs("svg",{className:s,viewBox:"0 0 24 24",fill:"none",stroke:t||"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",xmlns:"http://www.w3.org/2000/svg",children:[e.jsx("path",{d:"M22 2L11 13"}),e.jsx("path",{d:"M22 2L15 22L11 13L2 9L22 2Z"})]}),I=h.lazy(()=>f(()=>import("./MessagingPanel-C6bdXmn6.js"),__vite__mapDeps([0,1,2]))),L=({article:s,uiText:t})=>{const[l,m]=h.useState(!1),[d,n]=h.useState(!1),i=`${window.location.origin}?article=${s.id}`,c=`${s.headline} - ${t.title||"suhf"}`,a=`${c}

${i}`,p=()=>{navigator.clipboard.writeText(i).then(()=>{m(!0),setTimeout(()=>m(!1),2e3)})},o=[{name:t.share_suhuf||"suhf",Icon:_,href:`mailto:?subject=${encodeURIComponent(c)}&body=${encodeURIComponent(a)}`},{name:"X",Icon:v,href:`https://twitter.com/intent/tweet?url=${encodeURIComponent(i)}&text=${encodeURIComponent(c)}`},{name:"Facebook",Icon:y,href:`https://www.facebook.com/sharer/sharer.php?u=${encodeURIComponent(i)}`},{name:"WhatsApp",Icon:k,href:`https://api.whatsapp.com/send?text=${encodeURIComponent(a)}`},{name:"Telegram",Icon:C,href:`https://t.me/share/url?url=${encodeURIComponent(i)}&text=${encodeURIComponent(c)}`}];return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"mt-8 pt-4 border-t border-slate-300",children:[e.jsx("p",{className:"text-lg font-bold text-slate-800 mb-2",children:t.share_article}),e.jsxs("div",{className:"flex items-center flex-wrap gap-4",children:[e.jsxs("button",{onClick:()=>n(!0),title:"شارك مع الأصدقاء / Share with Friends",className:"p-2 bg-gradient-to-r from-blue-600 to-blue-700 text-white rounded-lg hover:from-blue-700 hover:to-blue-800 transition-all shadow-md hover:shadow-lg",children:[e.jsx(g,{className:"w-6 h-6"}),e.jsx("span",{className:"sr-only",children:"Share with friends"})]}),o.map(({name:r,Icon:u,href:w})=>e.jsxs("a",{href:w,target:"_blank",rel:"noopener noreferrer",title:r,className:"text-slate-600 hover:text-slate-900 transition-colors p-2 hover:bg-slate-100 rounded-lg",children:[e.jsx(u,{className:"w-6 h-6"}),e.jsxs("span",{className:"sr-only",children:["Share on ",r]})]},r)),e.jsxs("button",{onClick:p,title:l?t.copy_link_success:"Copy link",className:"text-slate-600 hover:text-slate-900 transition-colors p-2 hover:bg-slate-100 rounded-lg",children:[e.jsx(N,{className:"w-6 h-6",color:"currentColor"}),e.jsx("span",{className:"sr-only",children:"Copy link"})]}),l&&e.jsx("span",{className:"text-sm text-green-600",children:t.copy_link_success})]})]}),d&&e.jsx(h.Suspense,{fallback:e.jsx("div",{children:"Loading..."}),children:e.jsx(I,{article:s,onClose:()=>n(!1)})})]})},$=({articleId:s,comments:t,isLoggedIn:l,onAddComment:m,uiText:d})=>{const[n,x]=h.useState(""),i=document.documentElement.dir==="rtl",c=a=>{a.preventDefault(),n.trim()&&l&&(m(s,n),x(""))};return e.jsxs("div",{className:"mt-8 pt-6 border-t border-stone-300",children:[e.jsxs("h3",{className:`text-2xl font-bold mb-4 ${i?"font-serif-ar":"font-header-en"}`,children:[d.comments_title," (",t.length,")"]}),e.jsx("div",{className:"space-y-3 mb-6",children:t.map((a,p)=>e.jsxs("div",{className:"bg-stone-200 p-3 rounded-lg",children:[e.jsx("p",{className:"font-bold text-stone-700 text-sm",children:a.author}),e.jsx("p",{className:"text-stone-800",children:a.text})]},p))}),e.jsx("div",{children:l?e.jsxs("form",{onSubmit:c,children:[e.jsx("textarea",{value:n,onChange:a=>x(a.target.value),placeholder:d.add_comment_placeholder,className:"w-full p-3 border border-stone-300 rounded-lg min-h-[100px] focus:outline-none focus:ring-2 focus:ring-stone-400",required:!0}),e.jsx("button",{type:"submit",disabled:!n.trim(),className:"mt-2 px-4 py-2 bg-stone-800 text-white font-bold rounded-lg hover:bg-stone-900 disabled:bg-stone-400 disabled:cursor-not-allowed transition-colors",children:d.post_comment})]}):e.jsx("div",{className:"text-center p-4 bg-stone-200 border-t-2 border-stone-300 rounded-lg",children:e.jsx("p",{className:"text-stone-600",children:d.login_to_comment})})})]})},S=s=>s==="Fast Spreading"||s==="سريع الانتشار"?{color:"text-red-600",key:"fast_spreading"}:s==="Medium Spreading"||s==="متوسط الانتشار"?{color:"text-orange-500",key:"medium_spreading"}:{color:"text-stone-500",key:"low_spreading"},U=({article:s,onClose:t,language:l,isLoggedIn:m,onAddComment:d})=>{const n=h.useMemo(()=>b[l],[l]),x=l==="ar";h.useEffect(()=>{const o=document.body;s?o.style.overflow="hidden":o.style.overflow="auto";const r=u=>{u.key==="Escape"&&t()};return window.addEventListener("keydown",r),()=>{o.style.overflow="auto",window.removeEventListener("keydown",r)}},[s,t]);const i=h.useMemo(()=>{if(!(s!=null&&s.date))return"";const o=new Date(s.date),r={year:"numeric",month:"long",day:"numeric"};return new Intl.DateTimeFormat(l==="ar"?"ar-EG-u-nu-latn":"en-US",r).format(o)},[s==null?void 0:s.date,l]);if(!s)return null;const{color:c,key:a}=S(s.viralityDescription||""),p=n[a]||s.viralityDescription;return e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-60",onClick:t,role:"dialog","aria-modal":"true","aria-labelledby":`modal-headline-${s.id}`,children:e.jsxs("div",{className:"bg-stone-100 rounded-lg shadow-2xl max-w-4xl w-11/12 h-[90vh] flex flex-col",onClick:o=>o.stopPropagation(),children:[e.jsx("button",{onClick:t,className:"absolute top-3 right-3 z-20 p-1 bg-white/70 rounded-full hover:bg-white transition-colors","aria-label":"Close article",children:e.jsx("svg",{className:"w-6 h-6 text-stone-800",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),e.jsx("div",{className:"flex-shrink-0",children:s.imageUrl?e.jsxs("picture",{children:[e.jsx("source",{srcSet:s.imageUrl.replace(/\.png$/i,".webp"),type:"image/webp"}),e.jsx("img",{src:s.imageUrl,alt:s.headline,className:"w-full h-64 object-cover rounded-t-lg",loading:"lazy",width:"1280",height:"720"})]}):e.jsx("div",{className:"w-full h-64 bg-stone-200 animate-pulse rounded-t-lg"})}),e.jsxs("div",{className:"flex-1 overflow-y-auto p-6 lg:p-8",children:[e.jsx("h1",{id:`modal-headline-${s.id}`,className:`text-3xl lg:text-4xl font-bold text-stone-900 mb-2 ${x?"font-serif-ar":"font-header-en"}`,children:s.headline}),e.jsxs("div",{className:"flex items-center mb-6 gap-3 text-stone-600",children:[e.jsxs("span",{children:[s.byline," • ",i]}),e.jsxs("div",{title:n.virality_tooltip,className:`flex items-center gap-1 font-bold ${c}`,children:[e.jsx(j,{className:"w-5 h-5",color:"currentColor"}),e.jsx("span",{children:p})]})]}),e.jsx("div",{className:"prose max-w-none text-lg text-stone-800 leading-relaxed",children:s.body&&s.body.split(`
`).map((o,r)=>o.trim()&&e.jsx("p",{children:o},r))}),s.sources&&s.sources.length>0&&e.jsxs("div",{className:"mt-8 pt-4 border-t border-stone-300",children:[e.jsx("h3",{className:`text-xl font-bold text-stone-800 mb-2 ${x?"font-serif-ar":"font-header-en"}`,children:n.sources}),e.jsx("ul",{className:"list-disc list-inside space-y-1",children:s.sources.map((o,r)=>e.jsx("li",{children:e.jsx("a",{href:o.uri,target:"_blank",rel:"noopener noreferrer",className:"text-red-700 hover:underline",children:o.title||o.uri})},r))})]}),e.jsx(L,{article:s,uiText:n}),e.jsx($,{articleId:s.id,comments:s.comments,isLoggedIn:m,onAddComment:d,uiText:n})]})]})})};export{U as default};
