import{j as e,r as p,U as w,T as f}from"./index-g_7uFaoS.js";const g=({className:s="w-5 h-5",color:t})=>e.jsx("svg",{className:s,viewBox:"0 0 24 24",fill:t||"currentColor",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{d:"M23.643 4.937c-.835.37-1.732.62-2.675.733.962-.576 1.7-1.49 2.048-2.578-.9.534-1.897.922-2.958 1.13-.85-.904-2.06-1.47-3.4-1.47-2.572 0-4.658 2.086-4.658 4.66 0 .364.042.718.12 1.06-3.873-.195-7.304-2.05-9.602-4.868-.4.69-.63 1.49-.63 2.342 0 1.616.823 3.043 2.072 3.878-.764-.025-1.482-.234-2.11-.583v.06c0 2.257 1.605 4.14 3.737 4.568-.39.106-.803.163-1.227.163-.3 0-.593-.028-.877-.082.593 1.85 2.313 3.198 4.352 3.234-1.595 1.25-3.604 1.995-5.786 1.995-.376 0-.747-.022-1.112-.065 2.062 1.32 4.51 2.093 7.14 2.093 8.57 0 13.255-7.098 13.255-13.254 0-.2-.005-.402-.014-.602.91-.658 1.7-1.477 2.323-2.41z"})}),j=({className:s="w-5 h-5",color:t})=>e.jsx("svg",{className:s,viewBox:"0 0 24 24",fill:t||"currentColor",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{d:"M22 12c0-5.523-4.477-10-10-10S2 6.477 2 12c0 4.99 3.657 9.128 8.438 9.878v-6.987h-2.54V12h2.54V9.797c0-2.506 1.492-3.89 3.777-3.89 1.094 0 2.238.195 2.238.195v2.46h-1.26c-1.243 0-1.63.771-1.63 1.562V12h2.773l-.443 2.89h-2.33v6.988C18.343 21.128 22 16.99 22 12z"})}),b=({className:s="w-5 h-5",color:t})=>e.jsx("svg",{className:s,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:t||"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})}),v=({className:s="w-5 h-5",color:t})=>e.jsx("svg",{className:s,viewBox:"0 0 24 24",fill:t||"currentColor",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{d:"M16.75 13.96c.25.13.43.2.5.33.07.13.07.65-.03 1.18-.1.53-1.16 1.04-1.57 1.04-.4 0-.68-.13-.93-.26-.25-.13-1.6-1.04-3.1-2.43-1.5-1.4-2.43-3.1-2.5-3.23-.07-.13-.07-.26 0-.4.07-.13.25-.26.4-.4.14-.13.25-.13.4 0 .14.13.25.4.32.5.07.13.1.2.1.26l.13.4c.07.25 0 .5-.05.63-.05.13-.1.2-.2.33-.1.13-.2.2-.25.26-.05.07-.1.13-.05.26.45.87 1.2 1.62 2.07 2.07.13.05.26.05.4 0 .07-.05.13-.1.2-.2.1-.1.13-.2.2-.25.12-.05.37-.05.6 0l.4.13c.13.07.26.1.4.1.13 0 .26 0 .4-.07.25-.07.5-.5.62-1 .12-.5.12-1 .07-1.13s-.2-.2-.4-.37c-.2-.14-.4-.1-.5-.1zM12 2C6.5 2 2 6.5 2 12s4.5 10 10 10 10-4.5 10-10-4.5-10-10-10zm0 18.27c-4.57 0-8.27-3.7-8.27-8.27S7.43 3.73 12 3.73s8.27 3.7 8.27 8.27S16.57 20.27 12 20.27z"})}),y=({className:s="w-5 h-5",color:t})=>e.jsx("svg",{className:s,viewBox:"0 0 24 24",fill:t||"currentColor",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm4.69 6.5l-1.97 9.2c-.15.7-.58.88-1.18.55l-3.05-2.25-1.47 1.42c-.16.16-.3.3-.55.3l.2-3.13 5.4-4.87c.24-.22-.05-.34-.38-.13l-6.65 4.18-3.1-.97c-.68-.22-.7- .7.14-1.03l11.17-4.3c.58-.22.95.14.78.85z"})}),N=({className:s="w-5 h-5",color:t})=>e.jsxs("svg",{className:s,viewBox:"0 0 24 24",fill:"none",stroke:t||"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",xmlns:"http://www.w3.org/2000/svg",children:[e.jsx("path",{d:"M22 2L11 13"}),e.jsx("path",{d:"M22 2L15 22L11 13L2 9L22 2Z"})]}),k=({article:s,uiText:t})=>{const[a,d]=p.useState(!1),r=window.location.href,n=`${s.headline} - ${t.title||"suhf"}`,c=`${n}

${r}`,h=()=>{navigator.clipboard.writeText(r).then(()=>{d(!0),setTimeout(()=>d(!1),2e3)})},m=[{name:t.share_suhuf||"suhf",Icon:N,href:`mailto:?subject=${encodeURIComponent(n)}&body=${encodeURIComponent(c)}`},{name:"Twitter",Icon:g,href:`https://twitter.com/intent/tweet?url=${encodeURIComponent(r)}&text=${encodeURIComponent(n)}`},{name:"Facebook",Icon:j,href:`https://www.facebook.com/sharer/sharer.php?u=${encodeURIComponent(r)}`},{name:"WhatsApp",Icon:v,href:`https://api.whatsapp.com/send?text=${encodeURIComponent(c)}`},{name:"Telegram",Icon:y,href:`https://t.me/share/url?url=${encodeURIComponent(r)}&text=${encodeURIComponent(n)}`}];return e.jsxs("div",{className:"mt-8 pt-4 border-t border-stone-300",children:[e.jsx("p",{className:"text-lg font-bold text-stone-800 mb-2",children:t.share_article}),e.jsxs("div",{className:"flex items-center flex-wrap gap-4",children:[m.map(({name:l,Icon:x,href:o})=>e.jsxs("a",{href:o,target:"_blank",rel:"noopener noreferrer",title:l,className:"text-stone-600 hover:text-stone-900 transition-colors",children:[e.jsx(x,{className:"w-6 h-6",color:"currentColor"}),e.jsxs("span",{className:"sr-only",children:["Share on ",l]})]},l)),e.jsxs("button",{onClick:h,title:a?t.copy_link_success:"Copy link",className:"text-stone-600 hover:text-stone-900 transition-colors",children:[e.jsx(b,{className:"w-6 h-6",color:"currentColor"}),e.jsx("span",{className:"sr-only",children:"Copy link"})]}),a&&e.jsx("span",{className:"text-sm text-green-600",children:t.copy_link_success})]})]})},C=({articleId:s,comments:t,isLoggedIn:a,onAddComment:d,uiText:r})=>{const[n,c]=p.useState(""),h=document.documentElement.dir==="rtl",m=l=>{l.preventDefault(),n.trim()&&a&&(d(s,n),c(""))};return e.jsxs("div",{className:"mt-8 pt-6 border-t border-stone-300",children:[e.jsxs("h3",{className:`text-2xl font-bold mb-4 ${h?"font-serif-ar":"font-header-en"}`,children:[r.comments_title," (",t.length,")"]}),e.jsx("div",{className:"space-y-3 mb-6",children:t.map((l,x)=>e.jsxs("div",{className:"bg-stone-200 p-3 rounded-lg",children:[e.jsx("p",{className:"font-bold text-stone-700 text-sm",children:l.author}),e.jsx("p",{className:"text-stone-800",children:l.text})]},x))}),e.jsx("div",{children:a?e.jsxs("form",{onSubmit:m,children:[e.jsx("textarea",{value:n,onChange:l=>c(l.target.value),placeholder:r.add_comment_placeholder,className:"w-full p-3 border border-stone-300 rounded-lg min-h-[100px] focus:outline-none focus:ring-2 focus:ring-stone-400",required:!0}),e.jsx("button",{type:"submit",disabled:!n.trim(),className:"mt-2 px-4 py-2 bg-stone-800 text-white font-bold rounded-lg hover:bg-stone-900 disabled:bg-stone-400 disabled:cursor-not-allowed transition-colors",children:r.post_comment})]}):e.jsx("div",{className:"text-center p-4 bg-stone-200 border-t-2 border-stone-300 rounded-lg",children:e.jsx("p",{className:"text-stone-600",children:r.login_to_comment})})})]})},I=s=>s==="Fast Spreading"||s==="سريع الانتشار"?{color:"text-red-600",key:"fast_spreading"}:s==="Medium Spreading"||s==="متوسط الانتشار"?{color:"text-orange-500",key:"medium_spreading"}:{color:"text-stone-500",key:"low_spreading"},$=({article:s,onClose:t,language:a,isLoggedIn:d,onAddComment:r})=>{const n=p.useMemo(()=>w[a],[a]),c=a==="ar";p.useEffect(()=>{const o=document.body;s?o.style.overflow="hidden":o.style.overflow="auto";const i=u=>{u.key==="Escape"&&t()};return window.addEventListener("keydown",i),()=>{o.style.overflow="auto",window.removeEventListener("keydown",i)}},[s,t]);const h=p.useMemo(()=>{if(!(s!=null&&s.date))return"";const o=new Date(s.date),i={year:"numeric",month:"long",day:"numeric"};return new Intl.DateTimeFormat(a==="ar"?"ar-EG-u-nu-latn":"en-US",i).format(o)},[s==null?void 0:s.date,a]);if(!s)return null;const{color:m,key:l}=I(s.viralityDescription||""),x=n[l]||s.viralityDescription;return e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-60",onClick:t,role:"dialog","aria-modal":"true","aria-labelledby":`modal-headline-${s.id}`,children:e.jsxs("div",{className:"bg-stone-100 rounded-lg shadow-2xl max-w-4xl w-11/12 h-[90vh] flex flex-col",onClick:o=>o.stopPropagation(),children:[e.jsx("button",{onClick:t,className:"absolute top-3 right-3 z-20 p-1 bg-white/70 rounded-full hover:bg-white transition-colors","aria-label":"Close article",children:e.jsx("svg",{className:"w-6 h-6 text-stone-800",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),e.jsx("div",{className:"flex-shrink-0",children:s.imageUrl?e.jsxs("picture",{children:[e.jsx("source",{srcSet:s.imageUrl.replace(/\.png$/i,".webp"),type:"image/webp"}),e.jsx("img",{src:s.imageUrl,alt:s.headline,className:"w-full h-64 object-cover rounded-t-lg",loading:"lazy",width:"1280",height:"720"})]}):e.jsx("div",{className:"w-full h-64 bg-stone-200 animate-pulse rounded-t-lg"})}),e.jsxs("div",{className:"flex-1 overflow-y-auto p-6 lg:p-8",children:[e.jsx("h1",{id:`modal-headline-${s.id}`,className:`text-3xl lg:text-4xl font-bold text-stone-900 mb-2 ${c?"font-serif-ar":"font-header-en"}`,children:s.headline}),e.jsxs("div",{className:"flex items-center mb-6 gap-3 text-stone-600",children:[e.jsxs("span",{children:[s.byline," • ",h]}),e.jsxs("div",{title:n.virality_tooltip,className:`flex items-center gap-1 font-bold ${m}`,children:[e.jsx(f,{className:"w-5 h-5",color:"currentColor"}),e.jsx("span",{children:x})]})]}),e.jsx("div",{className:"prose max-w-none text-lg text-stone-800 leading-relaxed",children:s.body&&s.body.split(`
`).map((o,i)=>o.trim()&&e.jsx("p",{children:o},i))}),s.sources&&s.sources.length>0&&e.jsxs("div",{className:"mt-8 pt-4 border-t border-stone-300",children:[e.jsx("h3",{className:`text-xl font-bold text-stone-800 mb-2 ${c?"font-serif-ar":"font-header-en"}`,children:n.sources}),e.jsx("ul",{className:"list-disc list-inside space-y-1",children:s.sources.map((o,i)=>e.jsx("li",{children:e.jsx("a",{href:o.uri,target:"_blank",rel:"noopener noreferrer",className:"text-red-700 hover:underline",children:o.title||o.uri})},i))})]}),e.jsx(k,{article:s,uiText:n}),e.jsx(C,{articleId:s.id,comments:s.comments,isLoggedIn:d,onAddComment:r,uiText:n})]})]})})};export{$ as default};
